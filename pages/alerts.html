<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alertas - VeterinaryProject</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/components.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <h1>üè• VeterinaryProject</h1>
            </div>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                    <li><a href="inventory.html" class="nav-link">Inventario</a></li>
                    <li><a href="alerts.html" class="nav-link active">Alertas</a></li>
                    <li><a href="reports.html" class="nav-link">Reportes</a></li>
                </ul>
            </nav>
            <div class="user-info">
                <span id="userName">Usuario</span>
                <button id="logoutBtn" class="btn btn-secondary">Cerrar Sesi√≥n</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-title-section">
                    <h1 class="page-title">
                        <span class="page-icon">üö®</span>
                        Centro de Alertas
                    </h1>
                    <p class="page-subtitle">Monitoreo de vencimientos, stock bajo y notificaciones del sistema</p>
                </div>
                <div class="page-actions">
                    <button id="refreshAlertsBtn" class="btn btn-primary">
                        <span class="btn-icon">üîÑ</span>
                        Actualizar
                    </button>
                    <button id="markAllReadBtn" class="btn btn-secondary">
                        <span class="btn-icon">‚úÖ</span>
                        Marcar Todo como Le√≠do
                    </button>
                </div>
            </div>

            <!-- Alert Summary -->
            <div class="alert-summary">
                <div class="summary-card critical">
                    <div class="summary-icon">üö®</div>
                    <div class="summary-content">
                        <span class="summary-number" id="criticalAlerts">0</span>
                        <span class="summary-label">Alertas Cr√≠ticas</span>
                    </div>
                </div>
                <div class="summary-card warning">
                    <div class="summary-icon">‚ö†Ô∏è</div>
                    <div class="summary-content">
                        <span class="summary-number" id="warningAlerts">0</span>
                        <span class="summary-label">Advertencias</span>
                    </div>
                </div>
                <div class="summary-card info">
                    <div class="summary-icon">‚ÑπÔ∏è</div>
                    <div class="summary-content">
                        <span class="summary-number" id="infoAlerts">0</span>
                        <span class="summary-label">Informativas</span>
                    </div>
                </div>
                <div class="summary-card resolved">
                    <div class="summary-icon">‚úÖ</div>
                    <div class="summary-content">
                        <span class="summary-number" id="resolvedAlerts">0</span>
                        <span class="summary-label">Resueltas Hoy</span>
                    </div>
                </div>
            </div>

            <!-- Alert Filters -->
            <div class="alert-filters">
                <div class="filter-group">
                    <label for="priorityFilter">Prioridad:</label>
                    <select id="priorityFilter" class="filter-select">
                        <option value="">Todas las prioridades</option>
                        <option value="high">üö® Alta</option>
                        <option value="medium">‚ö†Ô∏è Media</option>
                        <option value="low">‚ÑπÔ∏è Baja</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="typeFilter">Tipo:</label>
                    <select id="typeFilter" class="filter-select">
                        <option value="">Todos los tipos</option>
                        <option value="expired">‚ùå Vencido</option>
                        <option value="expiring">‚è∞ Por Vencer</option>
                        <option value="lowstock">üì¶ Stock Bajo</option>
                        <option value="outofstock">üö´ Sin Stock</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="statusFilter">Estado:</label>
                    <select id="statusFilter" class="filter-select">
                        <option value="">Todos los estados</option>
                        <option value="active">üî¥ Activas</option>
                        <option value="resolved">‚úÖ Resueltas</option>
                    </select>
                </div>
            </div>

            <!-- Alert Categories -->
            <div class="alert-categories">
                <!-- Critical Alerts -->
                <section class="alert-category critical">
                    <div class="category-header">
                        <h2 class="category-title">
                            <span class="category-icon">üö®</span>
                            Alertas Cr√≠ticas
                            <span class="alert-count" id="criticalCount">0</span>
                        </h2>
                        <p class="category-description">Requieren atenci√≥n inmediata</p>
                    </div>
                    <div class="alert-list" id="criticalAlertsList">
                        <!-- Las alertas cr√≠ticas se cargan aqu√≠ -->
                    </div>
                </section>

                <!-- Expiring Medicines -->
                <section class="alert-category warning">
                    <div class="category-header">
                        <h2 class="category-title">
                            <span class="category-icon">‚è∞</span>
                            Medicamentos por Vencer
                            <span class="alert-count" id="expiringCount">0</span>
                        </h2>
                        <p class="category-description">Pr√≥ximos a vencer en los siguientes 30 d√≠as</p>
                    </div>
                    <div class="alert-list" id="expiringAlertsList">
                        <!-- Las alertas de vencimiento se cargan aqu√≠ -->
                    </div>
                </section>

                <!-- Low Stock -->
                <section class="alert-category info">
                    <div class="category-header">
                        <h2 class="category-title">
                            <span class="category-icon">üì¶</span>
                            Stock Bajo
                            <span class="alert-count" id="stockCount">0</span>
                        </h2>
                        <p class="category-description">Medicamentos que necesitan reabastecimiento</p>
                    </div>
                    <div class="alert-list" id="stockAlertsList">
                        <!-- Las alertas de stock se cargan aqu√≠ -->
                    </div>
                </section>

                <!-- Resolved Alerts -->
                <section class="alert-category resolved">
                    <div class="category-header">
                        <h2 class="category-title">
                            <span class="category-icon">‚úÖ</span>
                            Alertas Resueltas
                            <span class="alert-count" id="resolvedCount">0</span>
                        </h2>
                        <p class="category-description">Alertas marcadas como resueltas</p>
                    </div>
                    <div class="alert-list" id="resolvedAlertsList">
                        <!-- Las alertas resueltas se cargan aqu√≠ -->
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="../utils/helpers.js"></script>
    <script src="../utils/validators.js"></script>
    <script src="../assets/js/storage.js"></script>
    <script src="../assets/js/auth.js"></script>
    <script src="../components/modal.js"></script>

    <script>
        // L√≥gica espec√≠fica para la p√°gina de alertas
        class AlertsPage {
            constructor() {
                this.currentUser = null;
                this.medicines = [];
                this.alerts = [];
                this.resolvedAlerts = [];
                this.init();
            }

            init() {
                this.checkAuthentication();
                this.loadData();
                this.setupEventListeners();
                this.generateAlerts();
                this.renderAlerts();
                this.startAutoRefresh();
            }

            checkAuthentication() {
                const savedUser = StorageManager.getUser();
                if (!savedUser || !this.isSessionValid(savedUser)) {
                    window.location.href = 'login.html';
                    return;
                }
                this.currentUser = savedUser;
                this.updateUserInfo();
            }

            isSessionValid(user) {
                if (!user.loginTime) return false;
                const loginTime = new Date(user.loginTime);
                const now = new Date();
                const timeDiff = now - loginTime;
                return timeDiff < (8 * 60 * 60 * 1000);
            }

            updateUserInfo() {
                const userName = document.getElementById('userName');
                if (userName && this.currentUser) {
                    const roleText = this.currentUser.role === 'admin' ? 'Administrador' : 'Empleado';
                    userName.textContent = `${this.currentUser.username} (${roleText})`;
                }
            }

            loadData() {
                this.medicines = StorageManager.getMedicines();
                this.resolvedAlerts = JSON.parse(localStorage.getItem('resolvedAlerts') || '[]');
            }

            setupEventListeners() {
                document.getElementById('logoutBtn')?.addEventListener('click', () => this.logout());
                document.getElementById('refreshAlertsBtn')?.addEventListener('click', () => this.refreshAlerts());
                document.getElementById('markAllReadBtn')?.addEventListener('click', () => this.markAllAsRead());

                // Filtros
                document.getElementById('priorityFilter')?.addEventListener('change', () => this.applyFilters());
                document.getElementById('typeFilter')?.addEventListener('change', () => this.applyFilters());
                document.getElementById('statusFilter')?.addEventListener('change', () => this.applyFilters());
            }
// REEMPLAZAR este m√©todo en TODAS tus clases de p√°gina:
logout() {
                try {
                    // Confirmar logout
                    if (!confirm('¬øEst√°s seguro que quieres cerrar sesi√≥n?')) {
                        return;
                    }

                    // Limpiar datos
                    StorageManager.clearUser();
                    localStorage.removeItem('veterinary_user');
                    
                    // Mostrar mensaje
                    this.showToast('Cerrando sesi√≥n...', 'info');
                    
                    // Redirigir despu√©s de un momento
                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 1000);
                    
                } catch (error) {
                    console.error('Error en logout:', error);
                    // Forzar limpieza en caso de error
                    localStorage.clear();
                    window.location.href = 'login.html';
                }
            }
            generateAlerts() {
                this.alerts = [];
                const now = new Date();
                const thirtyDaysFromNow = new Date();
                thirtyDaysFromNow.setDate(now.getDate() + 30);

                this.medicines.forEach(medicine => {
                    const expiryDate = new Date(medicine.expiryDate);
                    const daysUntilExpiry = Math.ceil((expiryDate - now) / (1000 * 60 * 60 * 24));

                    // Medicamentos vencidos
                    if (expiryDate < now) {
                        this.alerts.push({
                            id: `expired_${medicine.id}`,
                            type: 'expired',
                            priority: 'high',
                            title: 'Medicamento Vencido',
                            message: `${medicine.name} (${medicine.code}) venci√≥ hace ${Math.abs(daysUntilExpiry)} d√≠as`,
                            medicine: medicine,
                            timestamp: new Date().toISOString(),
                            resolved: false
                        });
                    }
                    // Pr√≥ximos a vencer
                    else if (expiryDate <= thirtyDaysFromNow) {
                        this.alerts.push({
                            id: `expiring_${medicine.id}`,
                            type: 'expiring',
                            priority: daysUntilExpiry <= 7 ? 'high' : 'medium',
                            title: 'Pr√≥ximo a Vencer',
                            message: `${medicine.name} (${medicine.code}) vence en ${daysUntilExpiry} d√≠as`,
                            medicine: medicine,
                            timestamp: new Date().toISOString(),
                            resolved: false
                        });
                    }

                    // Stock bajo
                    if (medicine.quantity <= medicine.minStock) {
                        const stockType = medicine.quantity === 0 ? 'outofstock' : 'lowstock';
                        const title = medicine.quantity === 0 ? 'Sin Stock' : 'Stock Bajo';
                        const message = medicine.quantity === 0 
                            ? `${medicine.name} (${medicine.code}) no tiene stock disponible`
                            : `${medicine.name} (${medicine.code}) tiene ${medicine.quantity} unidades (m√≠nimo: ${medicine.minStock})`;

                        this.alerts.push({
                            id: `${stockType}_${medicine.id}`,
                            type: stockType,
                            priority: medicine.quantity === 0 ? 'high' : 'medium',
                            title: title,
                            message: message,
                            medicine: medicine,
                            timestamp: new Date().toISOString(),
                            resolved: false
                        });
                    }
                });

                // Marcar alertas resueltas
                this.alerts.forEach(alert => {
                    if (this.resolvedAlerts.includes(alert.id)) {
                        alert.resolved = true;
                    }
                });
            }

            renderAlerts() {
                this.updateSummary();
                this.renderCriticalAlerts();
                this.renderExpiringAlerts();
                this.renderStockAlerts();
                this.renderResolvedAlerts();
            }

            updateSummary() {
                const critical = this.alerts.filter(a => a.priority === 'high' && !a.resolved).length;
                const warning = this.alerts.filter(a => a.priority === 'medium' && !a.resolved).length;
                const info = this.alerts.filter(a => a.priority === 'low' && !a.resolved).length;
                const resolved = this.alerts.filter(a => a.resolved).length;

                document.getElementById('criticalAlerts').textContent = critical;
                document.getElementById('warningAlerts').textContent = warning;
                document.getElementById('infoAlerts').textContent = info;
                document.getElementById('resolvedAlerts').textContent = resolved;
            }

            renderCriticalAlerts() {
                const criticalAlerts = this.alerts.filter(a => a.priority === 'high' && !a.resolved);
                const container = document.getElementById('criticalAlertsList');
                const count = document.getElementById('criticalCount');

                count.textContent = criticalAlerts.length;

                if (criticalAlerts.length === 0) {
                    container.innerHTML = this.getEmptyState('No hay alertas cr√≠ticas', '‚úÖ');
                    return;
                }

                container.innerHTML = criticalAlerts.map(alert => this.renderAlertItem(alert)).join('');
            }

            renderExpiringAlerts() {
                const expiringAlerts = this.alerts.filter(a => a.type === 'expiring' && !a.resolved);
                const container = document.getElementById('expiringAlertsList');
                const count = document.getElementById('expiringCount');

                count.textContent = expiringAlerts.length;

                if (expiringAlerts.length === 0) {
                    container.innerHTML = this.getEmptyState('No hay medicamentos pr√≥ximos a vencer', '‚úÖ');
                    return;
                }

                container.innerHTML = expiringAlerts.map(alert => this.renderAlertItem(alert)).join('');
            }

            renderStockAlerts() {
                const stockAlerts = this.alerts.filter(a => (a.type === 'lowstock' || a.type === 'outofstock') && !a.resolved);
                const container = document.getElementById('stockAlertsList');
                const count = document.getElementById('stockCount');

                count.textContent = stockAlerts.length;

                if (stockAlerts.length === 0) {
                    container.innerHTML = this.getEmptyState('Todos los medicamentos tienen stock adecuado', '‚úÖ');
                    return;
                }

                container.innerHTML = stockAlerts.map(alert => this.renderAlertItem(alert)).join('');
            }

            renderResolvedAlerts() {
                const resolvedAlerts = this.alerts.filter(a => a.resolved);
                const container = document.getElementById('resolvedAlertsList');
                const count = document.getElementById('resolvedCount');

                count.textContent = resolvedAlerts.length;

                if (resolvedAlerts.length === 0) {
                    container.innerHTML = this.getEmptyState('No hay alertas resueltas hoy', '‚ÑπÔ∏è');
                    return;
                }

                container.innerHTML = resolvedAlerts.map(alert => this.renderAlertItem(alert, true)).join('');
            }

            renderAlertItem(alert, isResolved = false) {
                const priorityClass = alert.priority;
                const typeIcon = this.getTypeIcon(alert.type);
                const timeAgo = this.getTimeAgo(alert.timestamp);

                return `
                    <div class="alert-item ${priorityClass} ${isResolved ? 'resolved' : ''}" data-alert-id="${alert.id}">
                        <div class="alert-content">
                            <div class="alert-header">
                                <div class="alert-type">
                                    <span class="alert-icon">${typeIcon}</span>
                                    <span class="alert-title">${alert.title}</span>
                                </div>
                                <div class="alert-priority priority-${alert.priority}">
                                    ${alert.priority.toUpperCase()}
                                </div>
                            </div>
                            <div class="alert-message">${alert.message}</div>
                            <div class="alert-meta">
                                <span class="alert-time">${timeAgo}</span>
                                <span class="alert-medicine">Medicamento: ${alert.medicine.name}</span>
                            </div>
                        </div>
                        <div class="alert-actions">
                            ${!isResolved ? `
                                <button class="alert-action-btn view" onclick="alertsPage.viewMedicine('${alert.medicine.id}')" title="Ver medicamento">
                                    üëÅÔ∏è
                                </button>
                                <button class="alert-action-btn resolve" onclick="alertsPage.resolveAlert('${alert.id}')" title="Marcar como resuelto">
                                    ‚úÖ
                                </button>
                            ` : `
                                <button class="alert-action-btn view" onclick="alertsPage.viewMedicine('${alert.medicine.id}')" title="Ver medicamento">
                                    üëÅÔ∏è
                                </button>
                                <button class="alert-action-btn unresolve" onclick="alertsPage.unresolveAlert('${alert.id}')" title="Marcar como no resuelto">
                                    ‚Ü©Ô∏è
                                </button>
                            `}
                        </div>
                    </div>
                `;
            }

            getTypeIcon(type) {
                const icons = {
                    'expired': '‚ùå',
                    'expiring': '‚è∞',
                    'lowstock': 'üì¶',
                    'outofstock': 'üö´'
                };
                return icons[type] || 'üîî';
            }

            getEmptyState(message, icon) {
                return `
                    <div class="empty-state">
                        <div class="empty-icon">${icon}</div>
                        <p>${message}</p>
                    </div>
                `;
            }

            getTimeAgo(timestamp) {
                const now = new Date();
                const alertTime = new Date(timestamp);
                const diffMinutes = Math.floor((now - alertTime) / (1000 * 60));

                if (diffMinutes < 1) return 'Ahora mismo';
                if (diffMinutes < 60) return `Hace ${diffMinutes} minutos`;
                
                const diffHours = Math.floor(diffMinutes / 60);
                if (diffHours < 24) return `Hace ${diffHours} horas`;
                
                const diffDays = Math.floor(diffHours / 24);
                return `Hace ${diffDays} d√≠as`;
            }

            viewMedicine(medicineId) {
                // Redirigir a la p√°gina de inventario con el medicamento seleccionado
                window.location.href = `inventory.html?highlight=${medicineId}`;
            }

            resolveAlert(alertId) {
                if (!this.resolvedAlerts.includes(alertId)) {
                    this.resolvedAlerts.push(alertId);
                    localStorage.setItem('resolvedAlerts', JSON.stringify(this.resolvedAlerts));
                    this.generateAlerts();
                    this.renderAlerts();
                    this.showToast('Alerta marcada como resuelta', 'success');
                }
            }

            unresolveAlert(alertId) {
                this.resolvedAlerts = this.resolvedAlerts.filter(id => id !== alertId);
                localStorage.setItem('resolvedAlerts', JSON.stringify(this.resolvedAlerts));
                this.generateAlerts();
                this.renderAlerts();
                this.showToast('Alerta marcada como no resuelta', 'info');
            }

            markAllAsRead() {
                const activeAlerts = this.alerts.filter(a => !a.resolved);
                if (activeAlerts.length === 0) {
                    this.showToast('No hay alertas activas para marcar', 'info');
                    return;
                }

                if (confirm(`¬øMarcar ${activeAlerts.length} alertas como resueltas?`)) {
                    activeAlerts.forEach(alert => {
                        if (!this.resolvedAlerts.includes(alert.id)) {
                            this.resolvedAlerts.push(alert.id);
                        }
                    });
                    localStorage.setItem('resolvedAlerts', JSON.stringify(this.resolvedAlerts));
                    this.generateAlerts();
                    this.renderAlerts();
                    this.showToast('Todas las alertas marcadas como resueltas', 'success');
                }
            }

            refreshAlerts() {
                this.loadData();
                this.generateAlerts();
                this.renderAlerts();
                this.showToast('Alertas actualizadas', 'success');
            }

            applyFilters() {
                // Implementar filtros si es necesario
                console.log('Aplicando filtros...');
            }

            startAutoRefresh() {
                // Actualizar alertas cada 5 minutos
                setInterval(() => {
                    this.refreshAlerts();
                }, 5 * 60 * 1000);
            }

            showToast(message, type) {
                // Simple toast notification
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.textContent = message;
                toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    z-index: 1000;
                    animation: slideIn 0.3s ease;
                `;
                
                document.body.appendChild(toast);
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }
        }

        // Inicializar p√°gina
        document.addEventListener('DOMContentLoaded', () => {
            window.alertsPage = new AlertsPage();
        });
    </script>

    <style>
        /* Estilos espec√≠ficos de la p√°gina de alertas */
        .main-content {
            padding: 2rem;
            background: var(--light-color);
            min-height: calc(100vh - 64px);
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            gap: 2rem;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark-color);
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .page-icon {
            font-size: 2.5rem;
        }

        .page-subtitle {
            color: var(--text-light);
            margin: 0.5rem 0 0 0;
            font-size: 1rem;
        }

        .page-actions {
            display: flex;
            gap: 1rem;
            flex-shrink: 0;
        }

        .alert-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            border-left: 4px solid var(--primary-color);
        }

        .summary-card.critical {
            border-left-color: var(--danger-color);
        }

        .summary-card.warning {
            border-left-color: var(--warning-color);
        }

        .summary-card.info {
            border-left-color: var(--primary-color);
        }

        .summary-card.resolved {
            border-left-color: var(--success-color);
        }

        .summary-icon {
            font-size: 2rem;
            opacity: 0.8;
        }

        .summary-number {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--dark-color);
            display: block;
        }

        .summary-label {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-top: 0.25rem;
        }

        .alert-filters {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .filter-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
        }

        .alert-categories {
            display: grid;
            gap: 2rem;
        }

        .alert-category {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .category-header {
            padding: 1.5rem;
            background: var(--light-color);
            border-bottom: 1px solid var(--border-color);
        }

        .category-title {
            margin: 0 0 0.5rem 0;
            font-size: 1.25rem;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .alert-count {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-left: auto;
        }

        .category-description {
            margin: 0;
            color: var(--text-light);
            font-size: 0.875rem;
        }

        .alert-list {
            padding: 1.5rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .alert-item {
            background: var(--light-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: all 0.2s ease;
        }

        .alert-item:last-child {
            margin-bottom: 0;
        }

        .alert-item.high {
            border-left: 4px solid var(--danger-color);
            background: rgba(239, 68, 68, 0.05);
        }

        .alert-item.medium {
            border-left: 4px solid var(--warning-color);
            background: rgba(251, 191, 36, 0.05);
        }

        .alert-item.low {
            border-left: 4px solid var(--primary-color);
            background: rgba(59, 130, 246, 0.05);
        }

        .alert-item.resolved {
            opacity: 0.7;
            background: rgba(34, 197, 94, 0.05);
            border-left: 4px solid var(--success-color);
        }

        .alert-content {
            flex: 1;
        }

        .alert-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .alert-type {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .alert-icon {
            font-size: 1.25rem;
        }

        .alert-title {
            font-weight: 600;
            color: var(--dark-color);
        }

        .alert-priority {
            padding: 0.125rem 0;
        }